<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Chen Hsong">
  <meta name="dcterms.date" content="2016-01-01">
  <title>iChen 4.0 C++ Integration Library API Reference</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../stylesheets/styles.min.css">
</head>
<body>
<header>
<h1 class="title">iChen 4.0 C++ Integration Library API Reference</h1>
<p class="author">Chen Hsong</p>
<p class="date">2016</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#ichen-4.0-c-integration-library-api-reference">iChen<sup>®</sup> 4.0 C++ Integration Library API Reference</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#usage-instructions">Usage Instructions</a></li>
<li><a href="#cichenlibraryinterface">CiChenLibraryInterface</a></li>
<li><a href="#cichenlibraryinterfacegetlibraryversion">CiChenLibraryInterface::GetLibraryVersion</a></li>
<li><a href="#cichenlibraryinterfaceenablelogging">CiChenLibraryInterface::EnableLogging</a></li>
<li><a href="#cichenlibraryinterfacedisablelogging">CiChenLibraryInterface::DisableLogging</a></li>
<li><a href="#cichenlibraryinterfacesetcontrollertype">CiChenLibraryInterface::SetControllerType</a></li>
<li><a href="#cichenlibraryinterfacesetlanguage">CiChenLibraryInterface::SetLanguage</a></li>
<li><a href="#cichenlibraryinterfacesetmachineinfo">CiChenLibraryInterface::SetMachineInfo</a></li>
<li><a href="#cichenlibraryinterfacesetserverip">CiChenLibraryInterface::SetServerIP</a></li>
<li><a href="#cichenlibraryinterfacesetserverdisconnecttimeout">CiChenLibraryInterface::SetServerDisconnectTimeout</a></li>
<li><a href="#cichenlibraryinterfacesetcontrollerheartbeatperiod">CiChenLibraryInterface::SetControllerHeartBeatPeriod</a></li>
<li><a href="#cichenlibraryinterfacesetichenconnection">CiChenLibraryInterface::SetIChenConnection</a></li>
<li><a href="#cichenlibraryinterfacesendloginrequest">CiChenLibraryInterface::SendLoginRequest</a></li>
<li><a href="#cichenlibraryinterfacesendforcedlogoutreply">CiChenLibraryInterface::SendForcedLogoutReply</a></li>
<li><a href="#cichenlibraryinterfacesendoperationmode">CiChenLibraryInterface::SendOperationMode</a></li>
<li><a href="#cichenlibraryinterfacesendjobmode">CiChenLibraryInterface::SendJobMode</a></li>
<li><a href="#cichenlibraryinterfacesendcycledata">CiChenLibraryInterface::SendCycleData</a></li>
<li><a href="#cichenlibraryinterfacesendalarmtriggered">CiChenLibraryInterface::SendAlarmTriggered</a></li>
<li><a href="#cichenlibraryinterfacesendalarmreset">CiChenLibraryInterface::SendAlarmReset</a></li>
<li><a href="#cichenlibraryinterfacesendaudittrail">CiChenLibraryInterface::SendAuditTrail</a></li>
<li><a href="#cichenlibraryinterfacesendaction">CiChenLibraryInterface::SendAction</a></li>
<li><a href="#cichenlibraryinterfacesendstatusreply">CiChenLibraryInterface::SendStatusReply</a></li>
<li><a href="#cichenlibraryinterfacesendmolddatauploadrequest">CiChenLibraryInterface::SendMoldDataUploadRequest</a></li>
<li><a href="#cichenlibraryinterfacesendmoldsummaryreply">CiChenLibraryInterface::SendMoldSummaryReply</a></li>
<li><a href="#cichenlibraryinterfacesendmolddatalistrequest">CiChenLibraryInterface::SendMoldDataListRequest</a></li>
<li><a href="#cichenlibraryinterfacesendmolddatarequest">CiChenLibraryInterface::SendMoldDataRequest</a></li>
<li><a href="#cichenlibraryinterfacesendjobcardlistrequest">CiChenLibraryInterface::SendJobCardListRequest</a></li>
<li><a href="#cichenlibraryinterfacesendjobcardrequest">CiChenLibraryInterface::SendJobCardRequest</a></li>
<li><a href="#cichenlibraryinterfacesendjobcardchanged">CiChenLibraryInterface::SendJobCardChanged</a></li>
<li><a href="#cichenlibraryinterfacegetnextservermessage">CiChenLibraryInterface::GetNextServerMessage</a></li>
<li><a href="#uichenvaluetype">UiChenValueType</a></li>
<li><a href="#sichendatatype">SiChenDataType</a></li>
<li><a href="#smolditem">SMoldItem</a></li>
<li><a href="#sjobcarditem">SJobCardItem</a></li>
<li><a href="#ichenactivitytype">IChenActivityType</a></li>
<li><a href="#sichenbasemessagetype">SiChenBaseMessageType</a></li>
<li><a href="#sichenjobmodelistreptype">SiChenJobModeListRepType</a></li>
<li><a href="#sichenservermessagetype">SiChenServerMessageType</a></li>
<li><a href="#sichenpwdlvreptype">SiChenPwdLvRepType</a></li>
<li><a href="#sichenuserforcedlogouttype">SiChenUserForcedLogoutType</a></li>
<li><a href="#sichenmoldsummaryreqtype">SiChenMoldSummaryReqType</a></li>
<li><a href="#sichenmoldlistreptype">SiChenMoldListRepType</a></li>
<li><a href="#sichenmolddatareptype">SiChenMoldDataRepType</a></li>
<li><a href="#sichenjobcardlistreptype">SiChenJobCardListRepType</a></li>
</ul></li>
</ul>
</nav>
<section id="ichen-4.0-c-integration-library-api-reference" class="level1">
<h1>iChen<sup>®</sup> 4.0 C++ Integration Library API Reference</h1>
<p>Copyright © Chen Hsong Holdings Ltd. All rights reserved.<br />
Document Version: 4.0<br />
Last Edited: 2017-05-22</p>
<section id="table-of-contents" class="level2">
<h2>Table of Contents</h2>
<div id="toc-placeholder">

</div>
</section>
<section id="usage-instructions" class="level2">
<h2>Usage Instructions</h2>
<section id="setup" class="level3">
<h3>Setup</h3>
<table>
<tbody>
<tr class="odd">
<td>Library file</td>
<td><code>iChenNativeLibrary.lib</code></td>
</tr>
<tr class="even">
<td>Header file</td>
<td><code>iChenNativeLibrary.h</code></td>
</tr>
<tr class="odd">
<td>Dependencies</td>
<td><code>SiChenDataStruct.h</code> (iChen<sup>®</sup> 4.0 data structures)</td>
</tr>
<tr class="even">
<td>Namespace</td>
<td><code>IChenNativeLibrary</code></td>
</tr>
<tr class="odd">
<td>Compiler Toolset</td>
<td>Visual C++ 2008, WIN32 or WINCE7</td>
</tr>
<tr class="even">
<td>Libraries</td>
<td>Dynamic with ATL</td>
</tr>
</tbody>
</table>
</section>
<section id="step-1" class="level3 prose">
<h3>Step 1</h3>
<p>Construct a <code>CiChenLibraryInterface</code> class and set the necessary info.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="pp">#include </span><span class="im">&quot;iChenNativeLibrary.h&quot;</span>

<span class="kw">using</span> <span class="kw">namespace</span> IChenNativeLibrary;

<span class="co">// Create API object</span>
CiChenLibraryInterface *pIChen = <span class="kw">new</span> CiChenLibraryInterface();
<span class="co">// Set controller type (10 = CBmold300)</span>
pIChen-&gt;SetControllerType(<span class="dv">10</span>);
<span class="co">// Set interface language (0 = English)</span>
pIChen-&gt;SetLanguage(<span class="dv">0</span>);
<span class="co">// Set information about the machine:</span>
<span class="co">//   Serial number = 123456</span>
<span class="co">//   Version = 1.0</span>
<span class="co">//   Model = JM138Ai</span>
pIChen-&gt;SetMachineInfo(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">123456</span>,<span class="st">L&quot;JM138Ai&quot;</span>);
<span class="co">// Set IP address and port of the iChen server (192.168.123.234:34954)</span>
pIChen-&gt;SetServerIP(<span class="dv">192</span>,<span class="dv">168</span>,<span class="dv">123</span>,<span class="dv">234</span>,<span class="dv">34954</span>);</code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="pp">#include </span><span class="im">&quot;iChenNativeLibrary.h&quot;</span>

<span class="kw">using</span> <span class="kw">namespace</span> IChenNativeLibrary;

<span class="co">// This call is equivalent to the one above</span>
CiChenLibraryInterface *pIChen = 
    <span class="kw">new</span> CiChenLibraryInterface(<span class="dv">10</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">123456</span>,<span class="st">L&quot;JM138Ai&quot;</span>,<span class="dv">192</span>,<span class="dv">168</span>,<span class="dv">123</span>,<span class="dv">234</span>,<span class="dv">34954</span>);</code></pre></div>
</section>
<section id="step-2" class="level3 prose">
<h3>Step 2</h3>
<p>Connect to the iChen<sup>®</sup> 4.0 Server.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">pIChen-&gt;SetIChenConnection(<span class="kw">true</span>);</code></pre></div>
</section>
<section id="step-3" class="level3 prose">
<h3>Step 3</h3>
<p>Create a message loop, calling <a href="#cichenlibraryinterfacegetnextservermessage">GetNextServerMessage</a>, to retrieve <a href="#sichenbasemessagetype">messages</a> sent from the server. Typically, this message loop is run on a dedicated background thread.</p>
<p>For each message, inspect its <a href="#ichenactivitytype">iChenActivityType</a> field to determine the message type and cast to the appropriate type where necessary.</p>
<p>Handle each message individually.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">SiChenBaseMessageType *pMessage = NULL;
<span class="dt">long</span> reconnect_count = <span class="dv">-1</span>;

<span class="cf">while</span> (<span class="kw">true</span>)
{
    <span class="co">// Notice that the last value for pMessage is passed into the next call</span>
    <span class="cf">if</span> (!pIChen-&gt;GetNextServerMessage(&amp;pMessage)) {
        <span class="co">// This shouldn&#39;t happen!  Something has gone wrong with the connection!</span>
        <span class="co">// ... do something drastic (e.g. reconnect)...</span>
        <span class="cf">break</span>;
    }

    <span class="co">// Check if the server connection is broken</span>
    <span class="cf">if</span> (!pMessage-&gt;isConnected) {
        <span class="co">// Attempt to reconnect once every 100 cycles</span>
        <span class="cf">if</span> (reconnect_count &lt; <span class="dv">0</span>) reconnect_count = <span class="dv">100</span>;
        <span class="cf">if</span> (reconnect_count &gt; <span class="dv">0</span>) reconnect_count--;
        <span class="cf">if</span> (reconnect_count == <span class="dv">0</span>) {
            <span class="co">// Warning: CiChenLibraryInterface::SetIChenConnection blocks</span>
            pIChen-&gt;SetIChenConnection(<span class="kw">true</span>);
            reconnect_count = <span class="dv">-1</span>;
        }
    } <span class="cf">else</span> {
        reconnect_count = <span class="dv">-1</span>;
    }

    <span class="co">// Check the message type</span>
    <span class="cf">switch</span> (pMessage-&gt;iChenActivityType)
    {
        <span class="cf">case</span> IChenActivityType::NO_SERVER_DATA: <span class="cf">break</span>;  <span class="co">// No message</span>

        <span class="cf">case</span> IChenActivityType::SERVER_MESSAGE:
        {
            <span class="co">// Cast to SiChenServerMessageType</span>
            SiChenServerMessageType *pSvrMsg =
                <span class="kw">static_cast</span>&lt;SiChenServerMessageType *&gt;(pMessage);

            <span class="co">// Handle message</span>
            PopupMessageOnScreen(pMessage-&gt;ServerMessage);
            <span class="cf">break</span>;
        }

            :
        <span class="co">// Handle other messages</span>
            :
    }

    Sleep(<span class="dv">100</span>); <span class="co">// Throttle the message handling rate based on CPU resources</span>
}</code></pre></div>
</section>
<section id="step-4" class="level3 prose">
<h3>Step 4</h3>
<p>Send necessary messages to the server. All method calls on the <code>CiChenLibraryInterface</code> class are thread-safe.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Send an alarm notification</span>
pIChen-&gt;SendAlarmTriggered(<span class="dv">123</span>);</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterface" class="level2">
<h2>CiChenLibraryInterface</h2>
<section id="usage" class="level3 prose">
<h3>Usage</h3>
<p>This class contains all the facilities to integrate with an iChen<sup>®</sup> 4.0 network.</p>
</section>
<section id="constructors" class="level3">
<h3>Constructors</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">class</span> CiChenLibraryInterface()

<span class="kw">class</span> CiChenLibraryInterface
(
    UINT8 controllerType,
    UINT32 languageIndex,
    UINT32 clientVersionMajor,
    UINT32 clientVersionMinor,
    UINT32 machineSerialNumber,
    <span class="bu">std::</span>string machineModel,
    UINT8 serverIp1,
    UINT8 serverIp2,
    UINT8 serverIp3,
    UINT8 serverIp4,
    UINT16 serverPort
)</code></pre></div>
</section>
<section id="constructor-parameters" class="level3">
<h3>Constructor Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>controllerType</code></td>
<td>Type of controller (see <a href="code/enums.html#ControllerTypes">this document</a> for a full list)</td>
</tr>
<tr class="even">
<td><code>languageIndex</code></td>
<td>Interface language (see <a href="code/enums.html#Languages">this document</a> for a full list)</td>
</tr>
<tr class="odd">
<td><code>clientVersionMajor</code>,<br /><code>clientVersionMinor</code></td>
<td>Version of the communications protocol (default 1.0)</td>
</tr>
<tr class="even">
<td><code>machineSerialNumber</code></td>
<td>Unique serial number of the machine</td>
</tr>
<tr class="odd">
<td><code>machineModel</code></td>
<td>Model of the machine</td>
</tr>
<tr class="even">
<td><code>serverIp1</code>,<br /><code>serverIp2</code>,<br /><code>serverIp3</code>,<br /><code>serverIp4</code></td>
<td>Four bytes representing the IP address of the iChen<sup>®</sup> 4.0 Server.</td>
</tr>
<tr class="odd">
<td><code>serverPort</code></td>
<td>Port number of the iChen<sup>®</sup> 4.0 Server (default 34954)</td>
</tr>
</tbody>
</table>
</section>
<section id="thread-safety" class="level3 prose">
<h3>Thread Safety</h3>
<p>All method calls on this class are thread-safe.</p>
</section>
<section id="remarks" class="level3 prose">
<h3>Remarks</h3>
<p>For a controller not specified in the official list (see <a href="code/enums.html#ControllerTypes">this document</a>), use any number starting from 100 as the <code>controllerType</code>. Controller types 0-99 are reserved.</p>
</section>
<section id="example" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">CiChenLibraryInterface *pIChen = 
    <span class="kw">new</span> CiChenLibraryInterface(<span class="dv">10</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">123456</span>,<span class="st">L&quot;JM138Ai&quot;</span>,<span class="dv">192</span>,<span class="dv">168</span>,<span class="dv">123</span>,<span class="dv">234</span>,<span class="dv">34954</span>);</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacegetlibraryversion" class="level2">
<h2>CiChenLibraryInterface::GetLibraryVersion</h2>
<section id="usage-1" class="level3 prose">
<h3>Usage</h3>
<p>Retrieves the version of this library.</p>
</section>
<section id="syntax" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="bu">std::</span>string GetLibraryVersion();</code></pre></div>
</section>
<section id="parameters" class="level3 prose">
<h3>Parameters</h3>
<p>None.</p>
</section>
<section id="return-value" class="level3 prose">
<h3>Return Value</h3>
<p>A <code>std::string</code> containing the version of this library.</p>
</section>
<section id="example-1" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="bu">std::</span>string version = piChen-&gt;GetLibraryVersion();</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfaceenablelogging" class="level2">
<h2>CiChenLibraryInterface::EnableLogging</h2>
<section id="usage-2" class="level3 prose">
<h3>Usage</h3>
<p>Turns on logging to an external file.</p>
</section>
<section id="syntax-1" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> EnableLogging(
    <span class="bu">std::</span>wstring filename,
    <span class="dt">int</span> maxFileSize = <span class="dv">1048576</span>,
    <span class="dt">bool</span> isLogRawMessage = <span class="kw">false</span>);</code></pre></div>
</section>
<section id="parameters-1" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>filename</code></td>
<td>Path of the file to log to.<br />If this path is relative, the log file will be created relative to the current directory.</td>
</tr>
<tr class="even">
<td><code>maxFileSize</code></td>
<td>Maximum size of the log file, in bytes (default 1MB)</td>
</tr>
<tr class="odd">
<td><code>isLogRawMessage</code></td>
<td>Logs raw communications data to and from the server? (default FALSE)</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-1" class="level3 prose">
<h3>Return Value</h3>
<p>None.</p>
</section>
<section id="warning" class="level3 prose">
<h3>Warning</h3>
<p>Logging is for debugging purposes and should always be turned off in a production system. Turning on logging consumes a large amount of resources on the host controller and may adversely affect its primary task in controlling the machine.</p>
<p>Turn on logging on a controller in production environment only when trouble-shooting difficult-to-reproduce bugs; even so, try turning it on just before the occurrence of the bug and turn it off immediately afterwards. Beware that, since logging consumes large amounts of resources, turning on logging itself may actually prevent the bug from being reproduced.</p>
</section>
<section id="example-2" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Enable logging to D:\iChenLog.txt, maximum size 1MB</span>
piChen-&gt;EnableLogging(<span class="st">L&quot;D:</span><span class="sc">\\</span><span class="st">iChenLog.txt&quot;</span>, <span class="dv">1024</span> * <span class="dv">1024</span>, <span class="kw">false</span>);</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacedisablelogging" class="level2">
<h2>CiChenLibraryInterface::DisableLogging</h2>
<section id="usage-3" class="level3 prose">
<h3>Usage</h3>
<p>Turns off logging.</p>
</section>
<section id="syntax-2" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> DisableLogging();</code></pre></div>
</section>
<section id="parameters-2" class="level3 prose">
<h3>Parameters</h3>
<p>None.</p>
</section>
<section id="return-value-2" class="level3 prose">
<h3>Return Value</h3>
<p>None.</p>
</section>
<section id="example-3" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Disable logging</span>
piChen-&gt;DisableLogging();</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetcontrollertype" class="level2">
<h2>CiChenLibraryInterface::SetControllerType</h2>
<section id="usage-4" class="level3 prose">
<h3>Usage</h3>
<p>Sets the type of controller (see <a href="code/enums.html#ControllerTypes">this document</a> for a full list).</p>
</section>
<section id="syntax-3" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetControllerType(UINT8 controllerType);</code></pre></div>
</section>
<section id="parameters-3" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>controllerType</code></td>
<td>Type of controller (see (see <a href="code/enums.html#ControllerTypes">this document</a> for a full list)</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-3" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-1" class="level3 prose">
<h3>Remarks</h3>
<p>For a controller not specified in the official list (see <a href="code/enums.html#ControllerTypes">this document</a>), use any number starting from 100. Controller types 0-99 are reserved.</p>
<p>This method cannot be called when already connected to an iChen<sup>®</sup> 4.0 Server. Call <a href="#cichenlibraryinterfacesetichenconnection">SetIChenConnection(false)</a> first to disconnect from the Server before calling this method.</p>
</section>
<section id="example-4" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Set the type of the controller to CBmold300 (#10)</span>
<span class="cf">if</span> (!piChen-&gt;SetControllerType(<span class="dv">10</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetlanguage" class="level2">
<h2>CiChenLibraryInterface::SetLanguage</h2>
<section id="usage-5" class="level3 prose">
<h3>Usage</h3>
<p>Sets the language to connect with the iChen<sup>®</sup> 4.0 Server (see <a href="code/enums.html#Languages">this document</a> for a full list).</p>
<p>Typically this should be the language currently showing on the UI of the controller, as the server will send any localized texts (e.g. job mode names) in the specified language.</p>
</section>
<section id="syntax-4" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetLanguage(UINT32 languageIndex);</code></pre></div>
</section>
<section id="parameters-4" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>languageIndex</code></td>
<td>Language code (see <a href="code/enums.html#Languages">this document</a> for a full list)</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-4" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-2" class="level3 prose">
<h3>Remarks</h3>
<p>This method cannot be called when already connected to an iChen<sup>®</sup> 4.0 Server. Call <a href="#cichenlibraryinterfacesetichenconnection">SetIChenConnection(false)</a> first to disconnect from the Server before calling this method.</p>
</section>
<section id="example-5" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Set the current UI language to French (#4)</span>
<span class="cf">if</span> (!piChen-&gt;SetLanguage(<span class="dv">4</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetmachineinfo" class="level2">
<h2>CiChenLibraryInterface::SetMachineInfo</h2>
<section id="usage-6" class="level3 prose">
<h3>Usage</h3>
<p>Sets basic information about the machine.</p>
</section>
<section id="syntax-5" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetMachineInfo(
    UINT32 clientVersionMajor,
    UINT32 clientVersionMinor,
    UINT32 machineSerialNumber,
    <span class="bu">std::</span>string machineModel);</code></pre></div>
</section>
<section id="parameters-5" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>clientVersionMajor</code>,<br /><code>clientVersionMinor</code></td>
<td>Version of the communications protocol</td>
</tr>
<tr class="even">
<td><code>machineSerialNumber</code></td>
<td>Unique serial number of the machine</td>
</tr>
<tr class="odd">
<td><code>machineModel</code></td>
<td>Model of the machine</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-5" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-3" class="level3 prose">
<h3>Remarks</h3>
<p>This method cannot be called when already connected to an iChen<sup>®</sup> 4.0 Server. Call <a href="#cichenlibraryinterfacesetichenconnection">SetIChenConnection(false)</a> first to disconnect from the Server before calling this method.</p>
</section>
<section id="example-6" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Set the following machine info:</span>
<span class="co">//   Protocol version: 3.1</span>
<span class="co">//   Machine serial number: 123456</span>
<span class="co">//   Machine model: JM138-Ai</span>
<span class="cf">if</span> (!piChen-&gt;SetMachineInfo(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">123456</span>, <span class="st">&quot;JM138-Ai&quot;</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetserverip" class="level2">
<h2>CiChenLibraryInterface::SetServerIP</h2>
<section id="usage-7" class="level3 prose">
<h3>Usage</h3>
<p>Sets the IP address and port of the iChen<sup>®</sup> 4.0 Server. The default port is 34954.</p>
</section>
<section id="syntax-6" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetServerIP(UINT8 ip1, UINT8 ip2, UINT8 ip3, UINT8 ip4, UINT16 port);</code></pre></div>
</section>
<section id="parameters-6" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ip1</code>,<code>ip2</code>,<code>ip3</code>,<code>ip4</code></td>
<td>Four bytes representing the IP address of the iChen<sup>®</sup> 4.0 Server.</td>
</tr>
<tr class="even">
<td><code>port</code></td>
<td>Port number of the iChen<sup>®</sup> 4.0 Server (default 34954)</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-6" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-4" class="level3 prose">
<h3>Remarks</h3>
<p>This method cannot be called when already connected to an iChen<sup>®</sup> 4.0 Server. Call <a href="#cichenlibraryinterfacesetichenconnection">SetIChenConnection(false)</a> first to disconnect from the Server before calling this method.</p>
</section>
<section id="example-7" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Set the server&#39;s IP address to 192.168.123.234 and port 34954</span>
<span class="cf">if</span> (!piChen-&gt;SetServerIP(<span class="dv">192</span>, <span class="dv">168</span>, <span class="dv">123</span>, <span class="dv">234</span>, <span class="dv">34954</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetserverdisconnecttimeout" class="level2">
<h2>CiChenLibraryInterface::SetServerDisconnectTimeout</h2>
<section id="usage-8" class="level3 prose">
<h3>Usage</h3>
<p>Sets the time interval, in seconds, to time-out a connection to an iChen<sup>®</sup> 4.0 Server when no <em>heartbeat</em> from the server is received within the time interval.</p>
</section>
<section id="syntax-7" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetServerDisconnectTimeout(<span class="dt">float</span> timeoutInSec);</code></pre></div>
</section>
<section id="parameters-7" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>timeoutInSec</code></td>
<td>Interval to time-out a server connection</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-7" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-5" class="level3 prose">
<h3>Remarks</h3>
<p>An iChen<sup>®</sup> 4.0 Server sends a <em>heartbeat</em> to all conencted clients on a periodic basis. The <em>heartbeat</em> interval is configurable, and defaults to 10 seconds. In other words, by default, an iChen<sup>®</sup> 4.0 Server sends a <em>heartbeat</em> to connected clients once every 10 seconds.</p>
<p>If a <em>heartbeat</em> is not received from the server after a long interval of time (typically multiple times of the server's <em>heartbeat</em> interval), then the server can be assumed dysfunctional or terminated. This library automatically disconnects from the server when this time-out event happens. The default value is 60 seconds.</p>
<p>Call this method only when the default <em>heartbeat</em> interval of the iChen<sup>®</sup> 4.0 Server has been changed. When that happens, set the time-out interval to at least 4 or 5 times of the server's <em>heartbeat</em> interval.</p>
</section>
<section id="example-8" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Set the server&#39;s heartbeat to 15 seconds</span>
<span class="cf">if</span> (!piChen-&gt;SetServerDisconnectTimeout(<span class="fl">15.</span><span class="er">0f</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetcontrollerheartbeatperiod" class="level2">
<h2>CiChenLibraryInterface::SetControllerHeartBeatPeriod</h2>
<section id="usage-9" class="level3 prose">
<h3>Usage</h3>
<p>Sets the time interval, in seconds, to send a <em>heartbeat</em> to the connected iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-8" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetControllerHeartBeatPeriod(<span class="dt">float</span> timeoutInSec);</code></pre></div>
</section>
<section id="parameters-8" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>timeoutInSec</code></td>
<td>Interval to send a <em>heartbeat</em> to the server</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-8" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-6" class="level3 prose">
<h3>Remarks</h3>
<p>Each controller connected to an iChen<sup>®</sup> 4.0 Server must send a <em>heartbeat</em> at regular intervals. This <em>heartbeat</em> interval is configurable, and defaults to 10 seconds. In other words, by default, this library sends a <em>heartbeat</em> to the iChen<sup>®</sup> 4.0 Server once every 10 seconds.</p>
<p>If a <em>heartbeat</em> is not received from the server after a (configurable) period of time, defaulted to 20 seconds, the server <em>may</em> then assume that the client is dysfunctional or terminated and <em>may</em> disconnect the client.</p>
<p>Call this method only when the default required <em>heartbeat</em> interval of the iChen<sup>®</sup> 4.0 Server has been changed. When that happens, set the <em>heartbeat</em> interval to at least 1/2 or 1/3 of the server's required <em>heartbeat</em> interval.</p>
</section>
<section id="example-9" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Set the heartbeat to 15 seconds</span>
<span class="cf">if</span> (!piChen-&gt;SetControllerHeartBeatPeriod(<span class="fl">15.</span><span class="er">0f</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesetichenconnection" class="level2">
<h2>CiChenLibraryInterface::SetIChenConnection</h2>
<section id="usage-10" class="level3 prose">
<h3>Usage</h3>
<p>Sets basic information about the machine.</p>
</section>
<section id="syntax-9" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SetIChenConnection(<span class="dt">bool</span> isConnect);</code></pre></div>
</section>
<section id="parameters-9" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>isConnect</code></td>
<td>TRUE = Connect to the server, FALSE = Disconnect from the server</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-9" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="warning-1" class="level3 prose">
<h3>Warning</h3>
<p>This method call <strong>blocks</strong> until a connection is successfully made, is explicitly denied, or the time-out period is passed. Do not call this method in a time-critical thread (e.g. the main UI thread).</p>
<p>The time-out period is the same as the time-out for server <em>heartbeats</em> (default 60 seconds), which can be modified with <a href="#cichenlibraryinterface::setserverdisconnecttimeout">SetServerDisconnectTimeout</a>.</p>
</section>
<section id="example-10" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Connects to the iChen 4.0 Server</span>
pIChen-&gt;SendIChenConnection(<span class="kw">true</span>);
    :
    <span class="co">// Do some work</span>
    :
<span class="co">// Disconnects from the iChen 4.0 Server</span>
pIChen-&gt;SendIChenConnection(<span class="kw">false</span>);</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendloginrequest" class="level2">
<h2>CiChenLibraryInterface::SendLoginRequest</h2>
<section id="usage-11" class="level3 prose">
<h3>Usage</h3>
<p>Authenticates an operator on the machine with a unique password to that operator's authorization level.</p>
</section>
<section id="syntax-10" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendLoginRequest(<span class="bu">std::</span>string password);</code></pre></div>
</section>
<section id="parameters-10" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>password</code></td>
<td>Password of the operator attempting to log into the machine</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-10" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-7" class="level3 prose">
<h3>Remarks</h3>
<p>The server should respond with an <a href="#sichenpwdlvreptype">SiChenPwdLvRepType</a> message. However, this response message is not guaranteed to arrive. If the response message is not received after a period of time, the controller should assume that the login request has been denied and that no authority is granted to the operator with this password.</p>
</section>
<section id="example-11" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Log into the server with password &quot;hello&quot;</span>
<span class="cf">if</span> (!piChen-&gt;SendLoginRequest(<span class="st">&quot;hello&quot;</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendforcedlogoutreply" class="level2">
<h2>CiChenLibraryInterface::SendForcedLogoutReply</h2>
<section id="usage-12" class="level3 prose">
<h3>Usage</h3>
<p>Sends an acknowledgement in response to a <a href="#sichenuserforcedlogouttype"><code>SiChenUserForcedLogoutType</code></a> message sent by an iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-11" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendForcedLogoutReply();</code></pre></div>
</section>
<section id="parameters-11" class="level3 prose">
<h3>Parameters</h3>
<p>None.</p>
</section>
<section id="return-value-11" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-12" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Acknowledge to the server that the force-logout command is obeyed</span>
pIChen-&gt;SendForcedLogoutReply();</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendoperationmode" class="level2">
<h2>CiChenLibraryInterface::SendOperationMode</h2>
<section id="usage-13" class="level3 prose">
<h3>Usage</h3>
<p>Updates the current <em>operation mode</em> of the machine to the connected iChen<sup>®</sup> 4.0 Server. (See <a href="code/enums.html#OpModes">this document</a> for the full list of operation modes.</p>
</section>
<section id="syntax-12" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendOperationMode(UINT32 newOpMode, UINT32 oldOpMode);</code></pre></div>
</section>
<section id="parameters-12" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>newOpMode</code></td>
<td>The current <a href="code/enums.html#OpModes">operation mode</a> of the machine</td>
</tr>
<tr class="even">
<td><code>oldOpMode</code></td>
<td>The previous <a href="code/enums.html#OpModes">operation mode</a> of the machine</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-12" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-13" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Operation mode is changed from Manual (1) to Automatic (3)</span>
<span class="cf">if</span> (!piChen-&gt;SendOperationMode(<span class="dv">3</span>, <span class="dv">1</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendjobmode" class="level2">
<h2>CiChenLibraryInterface::SendJobMode</h2>
<section id="usage-14" class="level3 prose">
<h3>Usage</h3>
<p>Updates the current <em>job mode</em> of the machine to the connected iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-13" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendJobMode(UINT32 newJobMode, UINT32 oldJobMode);</code></pre></div>
</section>
<section id="parameters-13" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>newJobMode</code></td>
<td>The current <a href="#job-modes">job mode</a> of the machine</td>
</tr>
<tr class="even">
<td><code>oldJobMode</code></td>
<td>The previous <a href="#job-modes">job mode</a> of the machine</td>
</tr>
</tbody>
</table>
</section>
<section id="job-modes" class="level3 prose">
<h3>Job Modes</h3>
<p>Job mode numbers for this library are <em>different</em> from those in OpenProtocol™ (see <a href="code/enums.html#JobModes">this document</a>). <strong>DO NOT USE</strong> the job mode numbers in OpenProtocol™; use the job modes numbers below instead:</p>
<table>
<thead>
<tr class="header">
<th>Job Mode</th>
<th style="text-align: center;">Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><em>Unknown</em></td>
<td style="text-align: center;">-1</td>
</tr>
<tr class="even">
<td><code>ID01</code></td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td><code>ID02</code></td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td><code>ID03</code></td>
<td style="text-align: center;">2</td>
</tr>
<tr class="odd">
<td><code>ID04</code></td>
<td style="text-align: center;">3</td>
</tr>
<tr class="even">
<td><code>ID05</code></td>
<td style="text-align: center;">4</td>
</tr>
<tr class="odd">
<td><code>ID06</code></td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td><code>ID07</code></td>
<td style="text-align: center;">6</td>
</tr>
<tr class="odd">
<td><code>ID08</code></td>
<td style="text-align: center;">7</td>
</tr>
<tr class="even">
<td><code>ID09</code></td>
<td style="text-align: center;">8</td>
</tr>
<tr class="odd">
<td><code>ID10</code></td>
<td style="text-align: center;">9</td>
</tr>
<tr class="even">
<td><code>ID11</code></td>
<td style="text-align: center;">10</td>
</tr>
<tr class="odd">
<td><code>ID12</code></td>
<td style="text-align: center;">11</td>
</tr>
<tr class="even">
<td><code>ID13</code></td>
<td style="text-align: center;">12</td>
</tr>
<tr class="odd">
<td><code>ID14</code></td>
<td style="text-align: center;">13</td>
</tr>
<tr class="even">
<td><code>ID15</code></td>
<td style="text-align: center;">14</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-13" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-8" class="level3 prose">
<h3>Remarks</h3>
<p>There are fifteen (see <a href="#job-modes">here</a> for details) user-definable job modes that can be used by an organization.</p>
<p>Job modes are typically used to track utilization of the machine according to different usages. Usually they do not affect any other operation of the machine.</p>
<p>However, some specific job modes may have significance in an operational context; for example, a controller may only start counting production cycles only if the current job mode is set to &quot;Production&quot; or some equivalent. This way, certain non-production activities, such as trouble-shooting, mold trials and machine tuning, do not pollute the final production count. Generally speaking, it is considered prudent for a controller to take the current job mode into account when performing its duties.</p>
</section>
<section id="example-14" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Job mode is changed from #4 to #7</span>
<span class="cf">if</span> (!piChen-&gt;SendJobMode(<span class="dv">7</span>, <span class="dv">4</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendcycledata" class="level2">
<h2>CiChenLibraryInterface::SendCycleData</h2>
<section id="usage-15" class="level3 prose">
<h3>Usage</h3>
<p>Sends a set of data relating to the last cycle completed by the machine to an iChen<sup>®</sup> 4.0 Server.</p>
<p>Each set of cycle data contains a collection of variables and their corresponding values, typically statistics on the production process or sensor measurements. (See <a href="code/cycledata.html">this document</a> for examples of cycle data variables.)</p>
</section>
<section id="syntax-14" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendCycleData(
    UINT32 currentJobCardId,
    UINT32 currentMoldId,
    UINT32 currentJobMode,
    <span class="bu">std::</span>vector&lt;SiChenDataType&gt; cycleDataNameValuePair);</code></pre></div>
</section>
<section id="parameters-14" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>currentJobCardId</code></td>
<td>Unique numeric ID of the currently-loaded <em>job card</em></td>
</tr>
<tr class="even">
<td><code>currentMoldId</code></td>
<td>Unique numeric ID of the currently-loaded mold</td>
</tr>
<tr class="odd">
<td><code>currentJobModeId</code></td>
<td>The current <a href="#job-modes">job mode</a> of the machine</td>
</tr>
<tr class="even">
<td><code>cycleDataNameValuePair</code></td>
<td>A list of <a href="#sichendatatype"><code>SiChenDataType</code></a>'s containing variables and corresponding <code>float</code> values for this set of cycle data<br/><br/>IMPORTANT: Only <code>float</code> values are supported.</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-14" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-15" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Allocate list</span>
<span class="bu">std::</span>vector&lt;SiChenDataType&gt; listOfDataValues;

<span class="co">// Fill list with values</span>
<span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; <span class="dv">10</span>; i++)
{
    <span class="co">// Allocate data value</span>
    SiChenDataType data;

    <span class="co">// Set test data value to loop index, absolute integer value</span>
    <span class="co">// Remember: Only float values are supported!</span>
    data.iChenDataValue.F = i * <span class="dv">42</span>;
    data.isFloatingPoint = <span class="kw">true</span>;
    data.isAbsoluteValue = <span class="kw">true</span>;

    <span class="co">// Copy variable index</span>
    data.iChenDataIndex = i;

    <span class="co">// ... or use this concise format</span>
    <span class="co">// Remember: Only float values are supported, so use cast the value to float</span>
    <span class="co">// SiChenDataType data = { i, float(i * 42), true, true };</span>

    <span class="co">// Add to the list</span>
    listOfDataValues.push_back(data);
}

<span class="cf">if</span> (!piChen-&gt;SendCycleData(<span class="dv">33</span>, <span class="dv">88</span>, <span class="dv">2</span>, listOfDataValues))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendalarmtriggered" class="level2">
<h2>CiChenLibraryInterface::SendAlarmTriggered</h2>
<section id="usage-16" class="level3 prose">
<h3>Usage</h3>
<p>Sends an alarm raised by the machine to an iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-15" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendAlarmTriggered(UINT32 alarmIndex);</code></pre></div>
</section>
<section id="parameters-15" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>alarmIndex</code></td>
<td>Unique numeric ID of the alarm</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-15" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-16" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Send a notification for alarm #123</span>
pIChen-&gt;SendAlarmTriggered(<span class="dv">123</span>);</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendalarmreset" class="level2">
<h2>CiChenLibraryInterface::SendAlarmReset</h2>
<section id="usage-17" class="level3 prose">
<h3>Usage</h3>
<p>Resets an alarm raised by the machine to an iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-16" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendAlarmReset(UINT32 alarmIndex);</code></pre></div>
</section>
<section id="parameters-16" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>alarmIndex</code></td>
<td>Unique numeric ID of the alarm</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-16" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-17" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Resets alarm #123</span>
pIChen-&gt;SendAlarmReset(<span class="dv">123</span>);</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendaudittrail" class="level2">
<h2>CiChenLibraryInterface::SendAuditTrail</h2>
<section id="usage-18" class="level3 prose">
<h3>Usage</h3>
<p>Sends an <em>audit trail</em> to an iChen<sup>®</sup> 4.0 Server. An <em>audit trail</em> tracks the changing of the value of a settings variable on the controller.</p>
</section>
<section id="syntax-17" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendAuditTrail(SiChenDataType dataWithNewValue, UiChenValueType oldValue);</code></pre></div>
</section>
<section id="parameters-17" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dataWithNewValue</code></td>
<td>Variable name with new value</td>
</tr>
<tr class="even">
<td><code>oldValue</code></td>
<td>Old value of the same variable</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-17" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-18" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Allocate data value</span>
SiChenDataType data;

<span class="co">// Set data value to 999, absolute integer value</span>
data.iChenDataValue.UI32 = <span class="dv">999</span>;
data.isFloatingPoint = <span class="kw">false</span>;
data.isAbsoluteValue = <span class="kw">true</span>;

<span class="co">// Copy variable index</span>
data.iChenDataIndex = <span class="dv">123</span>;

<span class="co">// ... or use this concise format</span>
<span class="co">// SiChenDataType data = { 123, 999, false, true };</span>

<span class="co">// Allocate old value</span>
UiChenValueType oldval(<span class="dv">888</span>);

<span class="cf">if</span> (!piChen-&gt;SendAuditTrail(data, oldval))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendaction" class="level2">
<h2>CiChenLibraryInterface::SendAction</h2>
<section id="usage-19" class="level3 prose">
<h3>Usage</h3>
<p>Sends <em>action codes</em> representing the machine's current action to an iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-18" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendAction(
    UINT32 primaryActionIndex,
    UINT32 auxiliaryAction1Index,
    UINT32 auxiliaryAction2Index,
    UINT32 auxiliaryAction3Index);</code></pre></div>
</section>
<section id="parameters-18" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>primaryActionIndex</code></td>
<td>An <a href="code/actions.html">action code</a> representing the primary action that the machine is performing at this instance (set to zero or <code>NOOP</code> for none)</td>
</tr>
<tr class="even">
<td><code>auxiliaryAction1Index</code><br /><code>auxiliaryAction2Index</code><br /><code>auxiliaryAction3Index</code></td>
<td><a href="code/actions.html">Action codes</a> representing any other action(s), if any, that the machine is performing concurrently (set to zero or <code>NOOP</code> for none)</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-18" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-19" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Primary action = 1003, Aux action = 1138</span>
<span class="cf">if</span> (!piChen-&gt;SendAction(<span class="dv">1003</span>, <span class="dv">1138</span>, <span class="dv">0</span> <span class="dv">0</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendstatusreply" class="level2">
<h2>CiChenLibraryInterface::SendStatusReply</h2>
<section id="usage-20" class="level3 prose">
<h3>Usage</h3>
<p>Updates the current status of the controller to an iChen<sup>®</sup> 4.0 Server in response to a <a href="#ichenactivitytype"><code>HOST_STATE_REQUEST</code></a> message sent by the server.</p>
</section>
<section id="syntax-19" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendStatusReply(
    UINT32 curOpMode,
    UINT32 curJobMode,
    UINT32 curJobCardId,
    UINT32 curMoldId,
    <span class="bu">std::</span>wstring curMoldName);</code></pre></div>
</section>
<section id="parameters-19" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>curOpMode</code></td>
<td>The current <a href="code/enums.html#OpModes">operation mode</a> of the machine</td>
</tr>
<tr class="even">
<td><code>curJobMode</code></td>
<td>The current <a href="#job-modes">job mode</a> of the machine</td>
</tr>
<tr class="odd">
<td><code>curJobCardId</code></td>
<td>Unique numeric ID of the currently-loaded <em>job card</em></td>
</tr>
<tr class="even">
<td><code>curMoldId</code></td>
<td>Unique numeric ID of the currently-loaded mold</td>
</tr>
<tr class="odd">
<td><code>curMoldName</code></td>
<td>Unique name of the currently-loaded mold</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-19" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-20" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Status of the machine:</span>
<span class="co">//   Operation mode = Semi-Automatic</span>
<span class="co">//   Job mode = #1 (Idle)</span>
<span class="co">//   Job card ID = 33</span>
<span class="co">//   Mold ID = 88</span>
<span class="co">//   Mold name = ABC-123</span>
<span class="cf">if</span> (!piChen-&gt;SendStatusReply(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">33</span>, <span class="dv">88</span>, <span class="st">L&quot;ABC-123&quot;</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendmolddatauploadrequest" class="level2">
<h2>CiChenLibraryInterface::SendMoldDataUploadRequest</h2>
<section id="usage-21" class="level3 prose">
<h3>Usage</h3>
<p>Uploads the current set of settings values of the machine to an iChen<sup>®</sup> 4.0 Server to persist it under a mold name.</p>
</section>
<section id="syntax-20" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendMoldDataUploadRequest(
    <span class="bu">std::</span>wstring moldName,
    <span class="bu">std::</span>vector&lt;SiChenDataType&gt; moldData);</code></pre></div>
</section>
<section id="parameters-20" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>moldName</code></td>
<td>Unique name of the mold</td>
</tr>
<tr class="even">
<td><code>moldData</code></td>
<td>A list of <a href="#sichendatatype"><code>SiChenDataType</code></a>'s</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-20" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-9" class="level3 prose">
<h3>Remarks</h3>
<p>The current version of the iChen<sup>®</sup> 4.0 Server only accepts the numeric index of each setting variable, starting from zero.</p>
<p>If variable names are used, a mapping table must be employed to convert between the numeric index and textual name of each variable.</p>
<p>The server should respond with a <a href="#ichenactivitytype"><code>MOLD_DATA_SAVED</code></a> message if this set of mold settings data has successfully been saved. However, this response message is not guaranteed to arrive.</p>
</section>
<section id="example-21" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Allocate list</span>
<span class="bu">std::</span>vector&lt;SiChenDataType&gt; listOfDataValues;

<span class="co">// Fill list with values</span>
<span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; <span class="dv">10</span>; i++)
{
    <span class="co">// Allocate data value</span>
    SiChenDataType data;

    <span class="co">// Set test data value to loop index, absolute integer value</span>
    data.iChenDataValue.UI32 = i * <span class="dv">42</span>;
    data.isFloatingPoint = <span class="kw">false</span>;
    data.isAbsoluteValue = <span class="kw">true</span>;

    <span class="co">// Copy variable index</span>
    data.iChenDataName = i;

    <span class="co">// ... or use this concise format</span>
    <span class="co">// SiChenDataType data = { i, i * 42, false, true };</span>

    <span class="co">// Add to the list</span>
    listOfDataValues.push_back(data);
}

<span class="co">// Upload as mold name &quot;ABC-123&quot;</span>
<span class="cf">if</span> (!piChen-&gt;SendMoldDataUploadRequest(<span class="st">L&quot;ABC-123&quot;</span>, listOfDataValues))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendmoldsummaryreply" class="level2">
<h2>CiChenLibraryInterface::SendMoldSummaryReply</h2>
<section id="usage-22" class="level3 prose">
<h3>Usage</h3>
<p>Sends the current set of settings values of the machine to an iChen<sup>®</sup> 4.0 Server, most likely in response to a <a href="#sichenmoldsummaryreqtype">SiChenMoldSummaryReqType</a> sent by the server.</p>
</section>
<section id="syntax-21" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendMoldSummaryReply(
    UINT32 terminalIp,
    UINT16 terminalPort,
    <span class="bu">std::</span>wstring moldName,
    <span class="bu">std::</span>vector&lt;SiChenDataType&gt; moldData);</code></pre></div>
</section>
<section id="parameters-21" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>terminalIp</code></td>
<td>IP address of the host requesting this information</td>
</tr>
<tr class="even">
<td><code>terminalPort</code></td>
<td>IP port of the host requesting this information</td>
</tr>
<tr class="odd">
<td><code>moldName</code></td>
<td>Unique name of the mold</td>
</tr>
<tr class="even">
<td><code>moldData</code></td>
<td>A list of <a href="#sichendatatype"><code>SiChenDataType</code></a>'s</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-21" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-10" class="level3 prose">
<h3>Remarks</h3>
<p>The current version of the iChen<sup>®</sup> 4.0 Server only accepts the numeric index of each setting variable. If variable names are used, a mapping table must be employed to convert between the numeric index and textual name of each variable.</p>
</section>
<section id="example-22" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Allocate list</span>
<span class="bu">std::</span>vector&lt;SiChenDataType&gt; listOfDataValues;

<span class="co">// Fill list with values</span>
<span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; <span class="dv">10</span>; i++)
{
    <span class="co">// Allocate data value</span>
    SiChenDataType data;

    <span class="co">// Set test data value to loop index, absolute integer value</span>
    data.iChenDataValue.UI32 = i * <span class="dv">42</span>;
    data.isFloatingPoint = <span class="kw">false</span>;
    data.isAbsoluteValue = <span class="kw">true</span>;

    <span class="co">// Copy variable index</span>
    data.iChenDataIndex = i;

    <span class="co">// ... or use this concise format</span>
    <span class="co">// SiChenDataType data = { i, i * 42, false, true };</span>

    <span class="co">// Add to the list</span>
    listOfDataValues.push_back(data);
}

<span class="cf">if</span> (!piChen-&gt;SendMoldSummaryReply(<span class="bn">0x12345678</span>, <span class="dv">5678</span>, <span class="st">L&quot;ABC-123&quot;</span>, listOfDataValues))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendmolddatalistrequest" class="level2">
<h2>CiChenLibraryInterface::SendMoldDataListRequest</h2>
<section id="usage-23" class="level3 prose">
<h3>Usage</h3>
<p>Sends a message to an iChen<sup>®</sup> 4.0 Server asking for a list of mold settings data available for download.</p>
</section>
<section id="syntax-22" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendMoldDataListRequest(<span class="bu">std::</span>wstring searchPattern);</code></pre></div>
</section>
<section id="parameters-22" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>searchPattern</code></td>
<td>Part of a mold's name to search for, or empty string to get all</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-22" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-11" class="level3 prose">
<h3>Remarks</h3>
<p>The server should respond with an <a href="#sichenmoldlistreptype"><code>SiChenMoldListRepType</code></a> message containing the list of molds matching the search pattern criteria. However, this response message is not guaranteed to arrive.</p>
</section>
<section id="example-23" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Search for molds containing the words &quot;ABC&quot;</span>
<span class="cf">if</span> (!piChen-&gt;SendMoldDataListRequest(<span class="st">L&quot;ABC&quot;</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendmolddatarequest" class="level2">
<h2>CiChenLibraryInterface::SendMoldDataRequest</h2>
<section id="usage-24" class="level3 prose">
<h3>Usage</h3>
<p>Sends a message to an iChen<sup>®</sup> 4.0 Server to download a particular set of mold settings data.</p>
</section>
<section id="syntax-23" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendMoldDataRequest(
    UINT32 moldId,
    UINT32 jobCardId,
    UINT32 currentYield,
    UINT32 maxYield);</code></pre></div>
</section>
<section id="parameters-23" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>moldId</code></td>
<td>Unique numeric ID of a mold, which must match the mold ID of the <em>job card</em> specified under <code>jobCardId</code></td>
</tr>
<tr class="even">
<td><code>jobCardId</code></td>
<td>Unique numeric ID of a <em>job card</em>, which much contain a mold ID matching the specified <code>moldId</code></td>
</tr>
<tr class="odd">
<td><code>currentYield</code></td>
<td><em>Deprecated. This parameter is not used and should be passed zero.</em></td>
</tr>
<tr class="even">
<td><code>maxYield</code></td>
<td><em>Deprecated. This parameter is not used and should be passed zero.</em></td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-23" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-12" class="level3 prose">
<h3>Remarks</h3>
<p>The server should respond with an <a href="#sichenmolddatareptype"><code>SiChenMoldDataRepType</code></a> message containing the mold settings data. However, this response message is not guaranteed to arrive.</p>
</section>
<section id="example-24" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Load the mold with ID=88, job card ID=33</span>
<span class="cf">if</span> (!piChen-&gt;SendMoldDataRequest(<span class="dv">88</span>, <span class="dv">33</span>, <span class="dv">0</span>, <span class="dv">0</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendjobcardlistrequest" class="level2">
<h2>CiChenLibraryInterface::SendJobCardListRequest</h2>
<section id="usage-25" class="level3 prose">
<h3>Usage</h3>
<p>Sends a message to an iChen<sup>®</sup> 4.0 Server asking for a list of job cards available for download.</p>
</section>
<section id="syntax-24" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendJobCardListRequest();</code></pre></div>
</section>
<section id="parameters-24" class="level3 prose">
<h3>Parameters</h3>
<p>None.</p>
</section>
<section id="return-value-24" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-13" class="level3 prose">
<h3>Remarks</h3>
<p>The server should respond with an <a href="#sichenjobcardlistreptype"><code>SiChenJobCardListRepType</code></a> message containing the list of job cards available for download. However, this response message is not guaranteed to arrive.</p>
</section>
<section id="example-25" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="cf">if</span> (!piChen-&gt;SendJobCardListRequest())
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendjobcardrequest" class="level2">
<h2>CiChenLibraryInterface::SendJobCardRequest</h2>
<section id="usage-26" class="level3 prose">
<h3>Usage</h3>
<p>Sends a message to an iChen<sup>®</sup> 4.0 Server to download a particular job card.</p>
</section>
<section id="syntax-25" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendJobCardRequest(UINT32 jobCardId);</code></pre></div>
</section>
<section id="parameters-25" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>jobCardId</code></td>
<td>Unique numeric ID of a job card</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-25" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-14" class="level3 prose">
<h3>Remarks</h3>
<p>This method is deprecated and should not be used.</p>
<p>The server should respond with an <a href="#sichenmoldlistreptype"><code>SiChenMoldListRepType</code></a> message containing the list of molds associated with the specified job card. However, this response message is not guaranteed to arrive.</p>
</section>
<section id="example-26" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Load the job card with ID=33</span>
<span class="cf">if</span> (!piChen-&gt;SendJobCardRequest(<span class="dv">33</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacesendjobcardchanged" class="level2">
<h2>CiChenLibraryInterface::SendJobCardChanged</h2>
<section id="usage-27" class="level3 prose">
<h3>Usage</h3>
<p>Updates the ID of the currently-loaded job card to an iChen<sup>®</sup> 4.0 Server.</p>
</section>
<section id="syntax-26" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> SendJobCardChanged(UINT32 newJobCardId);</code></pre></div>
</section>
<section id="parameters-26" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>newJobCardId</code></td>
<td>Unique numeric ID of the currently-loaded job card</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-26" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="example-27" class="level3">
<h3>Example</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Notify the server that the current job card has changed to ID=33</span>
<span class="cf">if</span> (!piChen-&gt;SendJobCardChanged(<span class="dv">33</span>))
{
    <span class="co">// Handle error</span>
}</code></pre></div>
</section>
</section>
<section id="cichenlibraryinterfacegetnextservermessage" class="level2">
<h2>CiChenLibraryInterface::GetNextServerMessage</h2>
<section id="usage-28" class="level3 prose">
<h3>Usage</h3>
<p>Gets the next message (which must be derived from type <a href="#sichenbasemessagetype">SiChenBaseMessageType</a>) sent by the server (if any).</p>
</section>
<section id="syntax-27" class="level3">
<h3>Syntax</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> GetNextServerMessage(SiChenBaseMessageType **data);</code></pre></div>
</section>
<section id="parameters-27" class="level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>data</code></td>
<td>Pointer to a pointer to an <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a>-derived structure containing the next message sent by the server</td>
</tr>
</tbody>
</table>
</section>
<section id="return-value-27" class="level3 prose">
<h3>Return Value</h3>
<p>TRUE if successful, otherwise FALSE.</p>
</section>
<section id="remarks-15" class="level3 prose">
<h3>Remarks</h3>
<p>Notice that this method should <em>always</em> return TRUE. When there are no more messages sent by the server, a message indicating &quot;No Message&quot; is returned in <code>data</code>.</p>
<p>This nethod returns FALSE only when there is a problem communicating with the server, in which case the client may disconnect from the server and retry the connection.</p>
<p>You should check the <code>DataType</code> field of the returned message to see if equals <code>IChenActivityType::NO_SERVER_DATA</code> which indicates that there is no outstanding message sent from the server.</p>
</section>
<section id="important" class="level3 prose">
<h3>Important</h3>
<p>The pointer returned in <code>data</code> should be passed into the <em>next</em> call, otherwise it is an error.</p>
</section>
<section id="memory-management" class="level3 prose">
<h3>Memory Management</h3>
<p>The memory of the <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a>-derived structure returned by this method is managed internally and should be treated as read-only.</p>
<p>The user should <strong>NOT</strong> free this memory, not should this structure be changed in any way. The library is responsible for allocating and freeing this memory as necessary.</p>
</section>
</section>
<section id="uichenvaluetype" class="level2">
<h2>UiChenValueType</h2>
<section id="usage-29" class="level3 prose">
<h3>Usage</h3>
<p>This union is used to hold a single 32-bit integer, floating-point number or a boolean.</p>
</section>
<section id="structure" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">union</span> UiChenValueType
{
    UINT32 UI32;
    <span class="dt">float</span> F;
    <span class="dt">bool</span> B;
};</code></pre></div>
</section>
</section>
<section id="sichendatatype" class="level2">
<h2>SiChenDataType</h2>
<section id="usage-30" class="level3 prose">
<h3>Usage</h3>
<p>This struct is used to hold a single, named numeric variable that can be either boolean, integral or float-point.</p>
</section>
<section id="structure-1" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenDataType
{
    UINT32 iChenDataIndex;
    UiChenValueType iChenDataValue;
    <span class="dt">bool</span> isFloatingPoint;
    <span class="dt">bool</span> isAbsoluteValue;
};</code></pre></div>
</section>
<section id="fields" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenDataIndex</code></td>
<td>Numeric index the variable (starting from zero)</td>
</tr>
<tr class="even">
<td><code>iChenDataValue</code></td>
<td>Value of the variable (type = <a href="#uichenvaluetype"><code>UiChenValueType</code></a>)</td>
</tr>
<tr class="odd">
<td><code>isFloatingPoint</code></td>
<td>Does <code>iChenDataValue</code> hold a floating-point number?</td>
</tr>
<tr class="even">
<td><code>isAbsoluteValue</code></td>
<td>Does the value in <code>iChenDataValue</code> represent an absolute value (e.g. pressure, speed)?<br />If FALSE, it represents a <em>percentage</em> value from 0-100.</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-16" class="level3">
<h3>Remarks</h3>
<p>Before sending to the server, all data values are converted to floating-point numbers according to the following rules:</p>
<ul>
<li><p>Booleans are converted into zero and one.</p></li>
<li><p>Integers are converted into floating-point.</p></li>
<li><p>Absolute floating-point values are sent without conversion.</p></li>
<li><p>Relative floating-point values represent percentages and are converted into floating-point numbers by dividing by 1000 (i.e. 0 becomes 0.0, 100 becomes 0.1). It is typicallyed by the server assumed that any data less than 0.1 is a percentage.</p></li>
</ul>
</section>
</section>
<section id="smolditem" class="level2">
<h2>SMoldItem</h2>
<section id="usage-31" class="level3 prose">
<h3>Usage</h3>
<p>This struct is used to hold metadata regarding a set of settings data for a particular mold.</p>
</section>
<section id="structure-2" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SMoldItem
{
    UINT32 moldItemID;
    <span class="bu">std::</span>wstring moldItemName;
    UINT32 SerialID;
    <span class="bu">std::</span>wstring moldItemCreateDate;
    <span class="bu">std::</span>wstring moldItemCreateTime;
    <span class="bu">std::</span>wstring moldItemVersion;
};</code></pre></div>
</section>
<section id="fields-1" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>moldItemID</code></td>
<td>Unique numeric ID of the mold</td>
</tr>
<tr class="even">
<td><code>moldItemName</code></td>
<td>Unique name of the mold</td>
</tr>
<tr class="odd">
<td><code>SerialID</code></td>
<td>Unique serial number of the machine for which this mold data set was originally created</td>
</tr>
<tr class="even">
<td><code>moldItemCreateDate</code></td>
<td>Date/time that the mold data set was saved, in the format <code>YYYY/MM/DD HH:MM:SS</code></td>
</tr>
<tr class="odd">
<td><code>moldItemVersionMajor</code><br /><code>moldItemVersionMinor</code></td>
<td>Version of the mold data set</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sjobcarditem" class="level2">
<h2>SJobCardItem</h2>
<section id="usage-32" class="level3 prose">
<h3>Usage</h3>
<p>This struct is used to hold metadata on a single job card.</p>
</section>
<section id="structure-3" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SJobCardItem
{
    UINT32 jobCardItemId;
    UINT32 jobCardItemNumber;
    <span class="bu">std::</span>wstring jobCardItemMoldName;
    <span class="bu">std::</span>wstring jobCardItemName;
    UINT32 jobCardItemCurrentYield;
    UINT32 jobCardItemMaxYield;
};</code></pre></div>
</section>
<section id="fields-2" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>jobCardItemId</code></td>
<td>Unique numeric ID of the job card</td>
</tr>
<tr class="even">
<td><code>jobCardItemNumber</code></td>
<td>Unique textual ID of the job card</td>
</tr>
<tr class="odd">
<td><code>jobCardItemMoldName</code></td>
<td>Unique name of the mold that has been allocated to this job card</td>
</tr>
<tr class="even">
<td><code>jobCardItemName</code></td>
<td>Unique name of the job card</td>
</tr>
<tr class="odd">
<td><code>jobCardItemCurrentYield</code></td>
<td>How many items have already been produced under this job card</td>
</tr>
<tr class="even">
<td><code>jobCardItemMaxYield</code></td>
<td>The maximum number of items to produce (production quota) under this job card</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-17" class="level3 prose">
<h3>Remarks</h3>
<p>When the current <em>job mode</em> is <em>countable</em> (see <a href="#countable-and-non-countable-job-modes">here</a> for more details), and the <em>operation mode</em> is set to <code>Automatic</code> or <code>SemiAutomatic</code>, each cycle completed counts towards active production. The number in <code>jobCardItemCurrentYield</code> should be incremented after each cycle under such circumstances, and the machine should stop production when <code>jobCardItemMaxYield</code> is reached.</p>
</section>
</section>
<section id="ichenactivitytype" class="level2">
<h2>IChenActivityType</h2>
<section id="usage-33" class="level3 prose">
<h3>Usage</h3>
<p>Messages can be sent from the iChen<sup>®</sup> 4.0 Server, usually in response to a message sent from the controller to the server.</p>
<p>Some messages (e.g. <code>SERVER_MESSAGE</code> and <code>USER_FORCED_LOGOUT</code>) are sent unilaterally by the server, usually when informing the controller about a change in status.</p>
<p>It is the controller's responsibility to handle these messages appropriately.</p>
<p>Each message sent by an iChen<sup>®</sup> 4.0 Server is based on the base class <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a> which contains a <code>DataType</code> field of type <code>IChenActivityType</code> indicating the type of the message.</p>
</section>
<section id="definition" class="level3">
<h3>Definition</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">enum</span> IChenActivityType
{
    NO_SERVER_DATA,
    JOBMODE_LIST_REPLY,
    SERVER_MESSAGE,
    HOST_STATE_REQUEST,
    PASSWORD_LEVEL_REPLY,
    USER_FORCED_LOGOUT,
    MOLD_DATA_SAVED,
    MOLD_SUMMARY_REQUEST,
    MOLD_LIST_REPLY,
    MOLD_DATA_REPLY,
    JOBCARD_LIST_REPLY,
    JOBCARD_DATA_REPLY
};</code></pre></div>
</section>
<section id="descriptions" class="level3">
<h3>Descriptions</h3>
<table>
<thead>
<tr class="header">
<th>Enum Value</th>
<th>Type of Message</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>NO_SERVER_DATA</code></td>
<td>N/A (There is no outstanding message from the server)</td>
</tr>
<tr class="even">
<td><code>JOBMODE_LIST_REPLY</code></td>
<td><a href="#sichenjobmodelistreptype"><code>SiChenJobModeListRepType</code></a></td>
</tr>
<tr class="odd">
<td><code>SERVER_MESSAGE</code></td>
<td><a href="#sichenservermessagetype"><code>SiChenServerMessageType</code></a></td>
</tr>
<tr class="even">
<td><code>HOST_STATE_REQUEST</code></td>
<td>Message sent by the server to request a status update.<br />The controller should call <a href="#cichenlibraryinterfacesendstatusreply"><code>SendStatusReply</code></a> with the current status of the controller.</td>
</tr>
<tr class="odd">
<td><code>PASSWORD_LEVEL_REPLY</code></td>
<td><a href="#sichenpwdlvreptype"><code>SiChenPwdLvRepType</code></a></td>
</tr>
<tr class="even">
<td><code>USER_FORCED_LOGOUT</code></td>
<td><a href="#sichenuserforcedlogouttype"><code>SiChenUserForcedLogoutType</code></a></td>
</tr>
<tr class="odd">
<td><code>MOLD_DATA_SAVED</code></td>
<td>Message sent by the server in response to the <a href="#cichenlibraryinterfacesendmolddatauploadrequest"><code>SendMoldDataUploadRequest</code></a> method call), indicating that the set of mold data settings has been saved</td>
</tr>
<tr class="even">
<td><code>MOLD_SUMMARY_REQUEST</code></td>
<td><a href="#sichenmoldsummaryreqtype"><code>SiChenMoldSummaryReqType</code></a></td>
</tr>
<tr class="odd">
<td><code>MOLD_LIST_REPLY</code></td>
<td><a href="#sichenmoldlistreptype"><code>SiChenMoldListRepType</code></a></td>
</tr>
<tr class="even">
<td><code>MOLD_DATA_REPLY</code></td>
<td><a href="#sichenmolddatareptype"><code>SiChenMoldDataRepType</code></a></td>
</tr>
<tr class="odd">
<td><code>JOBCARD_LIST_REPLY</code></td>
<td><a href="#sichenjobcardlistreptype"><code>SiChenJobCardListRepType</code></a></td>
</tr>
<tr class="even">
<td><code>JOBCARD_DATA_REPLY</code></td>
<td><a href="#sichenmoldlistreptype"><code>SiChenMoldListRepType</code></a></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sichenbasemessagetype" class="level2">
<h2>SiChenBaseMessageType</h2>
<section id="usage-34" class="level3 prose">
<h3>Usage</h3>
<p>This struct is the base of all message types sent from an iChen<sup>®</sup> 4.0 Server to the controller.</p>
</section>
<section id="structure-4" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenBaseMessageType
{
    <span class="dt">bool</span> isConnected;
    IChenActivityType iChenActivityType;
};</code></pre></div>
</section>
<section id="fields-3" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td>An enum of <a href="#ichenactivitytype">IChenActivityType</a> indicating the type of message</td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td>Is the server still connected?<br />If FALSE, the connection to the server has been broken and it is up to the controller to handle this situation -- likely attempt a re-connection on a periodic basis.</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sichenjobmodelistreptype" class="level2">
<h2>SiChenJobModeListRepType</h2>
<section id="usage-35" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a message sent by an iChen<sup>®</sup> 4.0 Server when the controller successfully connects to it. The message contains a list of names/descriptions, in the specified language, for all the <em>job modes</em> (see <a href="#job-modes">here</a> for a full list).</p>
</section>
<section id="structure-5" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenJobModeListRepType : SiChenBaseMessageType
{
    <span class="bu">std::</span>vector&lt;<span class="bu">std::</span>wstring&gt; returnedJobModeList;
};</code></pre></div>
</section>
<section id="fields-4" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>returnedJobModeList</code></td>
<td>A list of Unicode strings, each being a name/description corresponding to a single <em>job mode</em></td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-18" class="level3 prose">
<h3>Remarks</h3>
<p>There are fifteen (see <a href="#job-modes">here</a> for details) user-definable <em>job modes</em> that can be used by an organization. Since the controller may operate in many different languages (up to the operator to choose), the text descriptions for each user-defined <em>job mode</em> are likely different for different languages.</p>
<p>The texts contained in this message are to be used by the controller when displaying a list of possible <em>job modes</em> for the operator to choose from.</p>
<p>Only <em>job modes</em> <code>ID01</code> to <code>ID15</code> are relevant. The <em>job mode</em> <code>Unknown</code> is used as a placeholder when a controller is not connected to the server and is typically not sent. Therefore, the list of <em>job mode</em> names only contain <em>job modes</em> <code>ID01</code> to <code>ID15</code> in ascending order (i.e. <code>ID01</code> = offset 0, <code>ID02</code> = offset 1, etc.).</p>
<p>If a particular slot is an empty string, then it represents a <em>job mode</em> that should not be used (and should not be shown on-screen).</p>
<p>When changing the user interface language, a controller should disconnect from the server and re-initiate a new connection in order to get the updated <em>job modes</em> list in the new language.</p>
</section>
<section id="countable-and-non-countable-job-modes" class="level3 prose">
<h3>Countable and Non-Countable Job Modes</h3>
<p>Certain <em>job modes</em> are <em>countable</em>, while others are <em>non-countable</em>. Typically, only the <code>Production</code> (by default set to <code>ID02</code>) <em>job mode</em> is <em>countable</em>.</p>
<p>When a controller is set to a <em>countable job mode</em>, and its <em>operation mode</em> is either <code>Automatic</code> or <code>SemiAutomatic</code>, any cycle completed counts towards the production quota. The machine should stop production when the production quota has been reached. (Aso see <a href="#sjobcarditem">here</a>.)</p>
<p>When interpreting the list of <em>job mode</em> names, any name starting with an asterisk (<code>*</code>) indicates a <em>countable job mode</em>. Names not starting with asterisks are <em>non-countable</em>. When displaying <em>job mode</em> names on-screen, strip out the prefix asterisk where necessary.</p>
</section>
</section>
<section id="sichenservermessagetype" class="level2">
<h2>SiChenServerMessageType</h2>
<section id="usage-36" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a texual message sent from an iChen<sup>®</sup> 4.0 Server to the controller for display on its screen.</p>
</section>
<section id="structure-6" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenServerMessageType : SiChenBaseMessageType
{
    <span class="bu">std::</span>wstring serverMessage;
};</code></pre></div>
</section>
<section id="fields-5" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>serverMessage</code></td>
<td>A message to be displayed on the controller's screen</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-19" class="level3">
<h3>Remarks</h3>
<p>Upon receiving this message, the controller should display the message on-screen in a <em>modal</em> manner (i.e. the operator must physically dismiss the message).</p>
</section>
</section>
<section id="sichenpwdlvreptype" class="level2">
<h2>SiChenPwdLvRepType</h2>
<section id="usage-37" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a reply sent by an iChen<sup>®</sup> 4.0 Server in response to the <a href="#cichenlibraryinterfacesendloginrequest"><code>SendLoginRequest</code></a> method call.</p>
</section>
<section id="structure-7" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenPwdLvRepType : SiChenBaseMessageType
{
    <span class="dt">short</span> userPasswordLevel;
    <span class="dt">bool</span> isAllowAuto;
    <span class="bu">std::</span>wstring userName;
};</code></pre></div>
</section>
<section id="fields-6" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>userPasswordLevel</code></td>
<td>Authorization level of the password (0-10)</td>
</tr>
<tr class="even">
<td><code>isAllowAuto</code></td>
<td>Is this password authorized to operate the machine in automatic mode?</td>
</tr>
<tr class="odd">
<td><code>userName</code></td>
<td>Unique name of the user with the password</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-20" class="level3 prose">
<h3>Remarks</h3>
<p>Upon receiving this message, the controller should remove the current operator info on the machine and revoke all authorities granted to the previous operator. It should then grant the appropriate authorities (or lack thereof) allowed by the message's <code>UserPasswordLevel</code> field, as well as update the name of the user on-screen.</p>
</section>
</section>
<section id="sichenuserforcedlogouttype" class="level2">
<h2>SiChenUserForcedLogoutType</h2>
<section id="usage-38" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a message sent by an iChen<sup>®</sup> 4.0 Server to the controller indicating that the controller should revoke the current operator's granted authorities.</p>
</section>
<section id="structure-8" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenUserForcedLogoutType : SiChenBaseMessageType
{
    <span class="dt">short</span> userPasswordLevel;
    <span class="dt">bool</span> isAllowAuto;
};</code></pre></div>
</section>
<section id="fields-7" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>userPasswordLevel</code></td>
<td>Authorization level of the password (0-10), usually zero</td>
</tr>
<tr class="even">
<td><code>isAllowAuto</code></td>
<td>Is the operator authorized to continue to operate the machine in automatic mode? (usually FALSE)</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-21" class="level3 prose">
<h3>Remarks</h3>
<p>This message is sent by the server in order to unilaterally remove authorities granted to the current operator of the machine.</p>
<p>Upon receiving this message, the controller should remove the current operator info on the machine and revoke all authorities granted to the operator. It should then grant the appropriate authorities (or lack thereof) allowed by the message's <code>UserPasswordLevel</code> field.</p>
<p>The controller should then call <a href="#cichenlibraryinterfacesendforcedlogoutreply">SendForcedLogoutReply()</a> to acknowledge this request.</p>
</section>
</section>
<section id="sichenmoldsummaryreqtype" class="level2">
<h2>SiChenMoldSummaryReqType</h2>
<section id="usage-39" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a message sent by an iChen<sup>®</sup> 4.0 Server to the controller indicating that the controller should send a snapshot of the values of all variables of the machine.</p>
</section>
<section id="structure-9" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenMoldSummaryReqType : SiChenBaseMessageType
{
    UINT32 terminalIp;
    UINT16 terminalPort;
};</code></pre></div>
</section>
<section id="fields-8" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>terminalIp</code></td>
<td>IP address of the host requesting this information</td>
</tr>
<tr class="even">
<td><code>terminalPort</code></td>
<td>IP port of the host requesting this information</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-22" class="level3 prose">
<h3>Remarks</h3>
<p>Upon receiving this message, the controller should call <a href="#cichenlibraryinterfacesendmoldsummaryreply">SendMoldSummaryReply</a> with a list of all the current values of the machine's variables.</p>
</section>
</section>
<section id="sichenmoldlistreptype" class="level2">
<h2>SiChenMoldListRepType</h2>
<section id="usage-40" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a reply sent by an iChen<sup>®</sup> 4.0 Server in response to the <a href="#cichenlibraryinterfacesendmolddatalistrequest"><code>SendMoldDataListRequest</code></a> or the <a href="#cichenlibraryinterfacesendjobcardrequest"><code>SendJobCardRequest</code></a> method calls.</p>
</section>
<section id="structure-10" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenMoldListRepType : SiChenBaseMessageType
{
    <span class="bu">std::</span>vector&lt;SMoldItem&gt; returnedMoldList;
};</code></pre></div>
</section>
<section id="fields-9" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>returnedMoldList</code></td>
<td>A list of <a href="#smolditem"><code>SMoldItem</code></a>'s</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-23" class="level3 prose">
<h3>Remarks</h3>
<p>Upon receiving this message, the controller should display the list of molds on-screen, allowing the operator to choose from the list and download the chosen mold data set.</p>
</section>
</section>
<section id="sichenmolddatareptype" class="level2">
<h2>SiChenMoldDataRepType</h2>
<section id="usage-41" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a reply sent by an iChen<sup>®</sup> 4.0 Server in response to the <a href="#cichenlibraryinterfacesendmolddatarequest"><code>SendMoldDataRequest</code></a> method call.</p>
</section>
<section id="structure-11" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenMoldDataRepType : SiChenBaseMessageType
{
    <span class="bu">std::</span>wstring moldName;
    <span class="bu">std::</span>vector&lt;SiChenDataType&gt; returnedMoldData;
};</code></pre></div>
</section>
<section id="fields-10" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>moldName</code></td>
<td>Unique name of the mold</td>
</tr>
<tr class="even">
<td><code>returnedMoldData</code></td>
<td>A list of <a href="#sichendatatype"><code>SiChenDataType</code></a>'s containing machine variable settings for the mold</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-24" class="level3 prose">
<h3>Remarks</h3>
<p>Upon receiving this message, the controller should set the variables of the machine according to the values contained in this message.</p>
<p>The current version of the iChen<sup>®</sup> 4.0 Server only accepts the numeric index of each setting variable. If variable names are used, a mapping table must be employed to convert between the numeric index and textual name of each variable.</p>
</section>
</section>
<section id="sichenjobcardlistreptype" class="level2">
<h2>SiChenJobCardListRepType</h2>
<section id="usage-42" class="level3 prose">
<h3>Usage</h3>
<p>This type holds a reply sent by an iChen<sup>®</sup> 4.0 Server in response to the <a href="#cichenlibraryinterfacesendjobcardlistrequest"><code>SendJobCardListRequest</code></a> method call.</p>
</section>
<section id="structure-12" class="level3">
<h3>Structure</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">struct</span> SiChenJobCardListRepType : SiChenBaseMessageType
{
    <span class="bu">std::</span>vector&lt;SJobCardItem&gt; returnedJobCardList;
};</code></pre></div>
</section>
<section id="fields-11" class="level3 prose">
<h3>Fields</h3>
<table>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iChenActivityType</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="even">
<td><code>isConnected</code></td>
<td><em>Inherited from <a href="#sichenbasemessagetype"><code>SiChenBaseMessageType</code></a></em></td>
</tr>
<tr class="odd">
<td><code>returnedJobCardList</code></td>
<td>A list of <a href="#sjobcarditem"><code>SJobCardItem</code></a>'s</td>
</tr>
</tbody>
</table>
</section>
<section id="remarks-25" class="level3 prose">
<h3>Remarks</h3>
<p>Upon receiving this message, the controller should display the list of job cards on-screen, allowing the operator to choose from the list.</p>
</section>
</section>
</section>
<script type="text/javascript">
// Process the table of contents for HTML output
(function() {
	var toc = document.getElementById("TOC");
	if (!toc) return;
	document.getElementById("toc-placeholder").appendChild(toc);
})();
</script>

<script type="text/javascript" src="/scripts/analytics.min.js"></script>
</body>
</html>
